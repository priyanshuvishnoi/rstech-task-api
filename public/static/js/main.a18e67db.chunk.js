(this["webpackJsonplogin-form"]=this["webpackJsonplogin-form"]||[]).push([[0],{29:function(e,t,n){},6:function(e){e.exports=JSON.parse('{"a":"http://localhost:5000"}')},63:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),r=n.n(a),o=n(30),i=n.n(o),u=n(7),s=n(2),l=n(15),j=n(32),b=function(){var e=localStorage.getItem("token");return null!==e&&e.length>0},d=function(e){var t=e.component,n=Object(j.a)(e,["component"]);return Object(c.jsx)(s.b,Object(l.a)(Object(l.a)({},n),{},{render:function(e){return b()?Object(c.jsx)(t,Object(l.a)({},e)):Object(c.jsx)(s.a,{to:{pathname:"/"}})}}))},h=n(4),O=n(5),m=n.n(O),g=n(6),p=function(){var e=Object(a.useState)([]),t=Object(h.a)(e,2),n=t[0],r=t[1],o=Object(s.g)(),i=function(){var e=localStorage.getItem("token");m.a.get(g.a+"/admin/getusers/:".concat(e)).then((function(e){r(e.data.users)})).catch((function(e){return console.log(e)}))};Object(a.useEffect)(i,[]);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("ul",{children:n.map((function(e){return Object(c.jsxs)("li",{children:[Object(c.jsxs)("h2",{children:[e.name,", ",e.email]})," ",Object(c.jsx)("button",{onClick:function(){return t=e._id,m.a.get(g.a+"/admin/deleteuser/:".concat(t)).then((function(e){return alert("user deleted")})).catch((function(e){return console.log(e)})),void i();var t},children:"Delete"})," ",Object(c.jsx)("button",{onClick:function(){return t=e._id,void m.a.get(g.a+"/admin/blockuser/:".concat(t)).then((function(e){return alert("user blocked")})).catch((function(e){return console.log(e)}));var t},children:"Block"})]},Math.floor(1e3*Math.random()))}))}),Object(c.jsx)("button",{onClick:function(){localStorage.removeItem("token"),o.push("/")},className:"button logout",children:"Logout"})]})},x=function(){var e=Object(a.useState)(""),t=Object(h.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(""),i=Object(h.a)(o,2),u=i[0],l=i[1],j=Object(a.useState)(""),b=Object(h.a)(j,2),d=b[0],O=b[1],p=Object(a.useState)(""),x=Object(h.a)(p,2),f=x[0],v=x[1],S=Object(s.g)();Object(a.useEffect)((function(){m.a.post(g.a+"/users/getuserdata",{token:localStorage.getItem("token")}).then((function(e){r(e.data.user.email),l(e.data.user.pin),v(e.data.user.mobileNumber),O(e.data.user.name)})).catch((function(e){return console.log(e)}))}),[]);var N=function(e){var t=localStorage.getItem("token");switch(e){case"pin":m.a.patch(g.a+"/users/updatedetails/:pin",{pin:u,token:t}).then((function(e){alert("pin changed")})).catch((function(e){return console.log(e)}));break;case"mobile":m.a.patch(g.a+"/users/updatedetails/:mobileNumber",{token:t,mobileNumber:f}).then((function(e){alert("mobile number changed")})).catch((function(e){return console.log(e)}));break;case"name":m.a.patch(g.a+"/users/updatedetails/:name",{token:t,name:d}).then((function(e){alert("name changed")})).catch((function(e){return console.log(e)}))}};return Object(c.jsx)("div",{className:"box",children:Object(c.jsxs)("div",{className:"formdiv",children:[Object(c.jsx)("h2",{children:n}),Object(c.jsx)("label",{children:"Name"}),Object(c.jsx)("input",{type:"text",value:d,placeholder:d,onChange:function(e){return O(e.target.value)},required:!0}),Object(c.jsx)("button",{onClick:function(){return N("name")},className:"button",children:"Update Name"}),Object(c.jsx)("label",{children:"PIN"}),Object(c.jsx)("input",{type:"password",value:u,placeholder:u,pattern:"[0-9]+",onChange:function(e){return l(e.target.value)},required:!0}),Object(c.jsx)("button",{onClick:function(){return N("pin")},className:"button",children:"Update Pin"}),Object(c.jsx)("label",{children:"Mobile Number"}),Object(c.jsx)("input",{type:"tel",value:f,placeholder:f,pattern:"[0-9]{10}",onChange:function(e){return v(e.target.value)},required:!0}),Object(c.jsx)("button",{onClick:function(){return N("mobile")},className:"button",children:"Update Mobile No."}),Object(c.jsx)("button",{onClick:function(){localStorage.removeItem("token"),S.push("/")},className:"button logout",children:"Logout"})]})})},f=n(13),v=n.n(f),S=(n(29),function(){var e=Object(a.useState)(""),t=Object(h.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(""),i=Object(h.a)(o,2),l=i[0],j=i[1],d=Object(s.g)();Object(a.useEffect)((function(){b()&&d.push("/userhome")}),[]);return Object(c.jsx)("div",{className:"box",children:Object(c.jsx)("div",{className:"formdiv",children:Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=v.a.stringify({email:n,pin:l});m.a.post(g.a+"/users/userlogin",t).then((function(e){console.log(e.data),e.data.token?(localStorage.setItem("token",e.data.token),d.push("/userhome")):alert("user blocked by admin")})).catch((function(e){return console.log(e)}))},children:[Object(c.jsxs)("div",{className:"heading",children:[Object(c.jsx)("h1",{children:"Login"}),Object(c.jsx)(u.b,{to:"/signup",children:Object(c.jsx)("h3",{children:"Sign Up"})}),Object(c.jsx)(u.b,{to:"/adminlogin",children:Object(c.jsx)("h3",{children:"Admin Login"})})]}),Object(c.jsx)("label",{children:"Email"}),Object(c.jsx)("input",{type:"email",value:n,onChange:function(e){return r(e.target.value)},required:!0}),Object(c.jsx)("label",{children:"PIN"}),Object(c.jsx)("input",{type:"password",value:l,pattern:"[0-9]+",onChange:function(e){return j(e.target.value)},required:!0}),Object(c.jsx)("button",{type:"submit",className:"button",children:"Sign In"})]})})})}),N=function(){var e=Object(a.useState)(""),t=Object(h.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(""),i=Object(h.a)(o,2),l=i[0],j=i[1],b=Object(a.useState)(""),d=Object(h.a)(b,2),O=d[0],p=d[1],x=Object(a.useState)(""),f=Object(h.a)(x,2),S=f[0],N=f[1],k=Object(s.g)();return Object(c.jsx)("div",{className:"box",children:Object(c.jsx)("div",{className:"formdiv",children:Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=v.a.stringify({name:n,email:l,pin:O,mobileNumber:S});m.a.post(g.a+"/users/usersignup",t).then((function(e){alert("Sign Up successful"),console.log(e)})).catch((function(e){return console.log(e)})),k.push("/")},children:[Object(c.jsxs)("div",{className:"heading",children:[Object(c.jsx)("h1",{children:"SignUp"}),Object(c.jsx)(u.b,{to:"/",children:Object(c.jsx)("h3",{children:"Sign In"})}),Object(c.jsx)(u.b,{to:"/adminlogin",children:Object(c.jsx)("h3",{children:"Admin Login"})})]}),Object(c.jsx)("label",{children:"name"}),Object(c.jsx)("input",{type:"text",value:n,onChange:function(e){return r(e.target.value)},required:!0}),Object(c.jsx)("label",{children:"email"}),Object(c.jsx)("input",{type:"email",value:l,onChange:function(e){return j(e.target.value)},required:!0}),Object(c.jsx)("label",{children:"PIN"}),Object(c.jsx)("input",{type:"password",pattern:"[0-9]+",value:O,onChange:function(e){return p(e.target.value)},required:!0}),Object(c.jsx)("label",{children:"Mobile Number"}),Object(c.jsx)("input",{type:"tel",pattern:"[0-9]{10}",value:S,onChange:function(e){return N(e.target.value)},required:!0}),Object(c.jsx)("button",{type:"submit",className:"button",children:"submit"})]})})})},k=function(){var e=Object(a.useState)(""),t=Object(h.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(""),i=Object(h.a)(o,2),l=i[0],j=i[1],b=Object(s.g)();return Object(c.jsx)("div",{className:"box",children:Object(c.jsx)("div",{className:"formdiv",children:Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=v.a.stringify({email:n,pin:l});m.a.post(g.a+"/admin/login",t).then((function(e){localStorage.setItem("token",e.data.token),b.push("/adminhome")})).catch((function(e){return console.log(e)}))},children:[Object(c.jsxs)("div",{className:"heading",children:[Object(c.jsx)("h1",{children:"Admin Login"}),Object(c.jsx)(u.b,{to:"/signup",children:Object(c.jsx)("h3",{children:"User Sign Up"})}),Object(c.jsx)(u.b,{to:"/",children:Object(c.jsx)("h3",{children:"User Signin"})})]}),Object(c.jsx)("label",{children:"Email"}),Object(c.jsx)("input",{type:"email",value:n,onChange:function(e){return r(e.target.value)},required:!0}),Object(c.jsx)("label",{children:"PIN"}),Object(c.jsx)("input",{type:"password",value:l,pattern:"[0-9]+",onChange:function(e){return j(e.target.value)},required:!0}),Object(c.jsx)("button",{type:"submit",className:"button",children:"Sign In"})]})})})},C=(n(63),function(){return Object(c.jsx)(u.a,{children:Object(c.jsxs)(s.d,{children:[Object(c.jsx)(s.b,{path:"/",exact:!0,component:S}),Object(c.jsx)(s.b,{path:"/signup",component:N}),Object(c.jsx)(s.b,{path:"/adminlogin",component:k}),Object(c.jsx)(d,{path:"/userhome",component:x}),Object(c.jsx)(d,{path:"/adminhome",component:p})]})})}),y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,65)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(C,{})}),document.getElementById("root")),y()}},[[64,1,2]]]);
//# sourceMappingURL=main.a18e67db.chunk.js.map